[[Deploy-MySQL-Application]]
=== Deploy sample MySQL stateful application
In this section, we will deploy the highly available MySQL application onto the ROSA cluster using a Kubernetes StatefulSet and have the PersistentVolume provisioned by Trident. Kubernetes StatefulSet ensures the original PersistentVolume (PV) is mounted on the same pod identity when it’s rescheduled again to retain data integrity and consistency. For more information about the MySQL application replication configuration, please refer to the link:https://dev.mysql.com/doc/refman/8.0/en/replication.html[MySQL Official document].

Before we begin with MySQL application deployment, we’ll store the application’s sensitive information like username and password in Secrets. Here, we’ll be creating simple secrets.

Open the `mysql` folder in your cloned git repository, review the file `mysql-secrets.yaml` file, and execute the following command to create the secret.

[source,shell]
----
cd mysql
oc create namespace mysql
oc apply -f mysql-secrets.yaml
----

Now, verify the secrets were created.

[source,shell]
----
oc get secrets -n mysql
----

image::section4_screenshot1.png[Section 4 - Deploy sample MySQL stateful application-screenshot1]

Now we’ll deploy MySQL StatefulSet application on the ROSA cluster. Open `mysql/mysql-statefulset.yaml` and review the details –metadata, replicas, and storageclass name. Then, execute the following command.

[source,shell]
----
oc apply -f mysql-statefulset.yaml
----

Verify the application deployment.

[source,shell]
----
oc get pods -n mysql
----

image::section4_screenshot2.png[Section 4 - Deploy sample MySQL stateful application-screenshot2]

Verify the PVCs are created by the MySQL application.

[source,shell]
----
oc get pvc -n mysql
----

image::section4_screenshot3.png[Section 4 - Deploy sample MySQL stateful application-screenshot3]
